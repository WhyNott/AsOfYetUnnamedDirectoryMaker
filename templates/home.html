<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <title>HiveSheet</title>
    <meta name="csrf-token" content="{{.CSRFToken}}">
    <link rel="stylesheet" href="/static/css/home.css">
    <!-- <link rel="stylesheet" href="https://matcha.mizu.sh/matcha.css"> -->
    <link rel="stylesheet" href="https://latex.vercel.app/style.css">
    <link rel="icon" type="image/x-icon" href="/static/images/favicon.png">
    <!-- Dependencies for filtering controls -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/css/selectize.default.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.css"> 
</head>
<body>
    <div class="container">
        <div class="header">
            <div>
                <img src="/static/images/logo.png" alt="HiveSheet">
                <br>
                <h1>What is HiveSheet?</h1>
                <p><span style="font-weight: 400;">HiveSheet is a collaborative directory creation tool which allows for </span><strong>distributed gathering </strong><span style="font-weight: 400;">and </span><strong>verification</strong><span style="font-weight: 400;"> of data. HiveSheet allows for easy creation of directory websites based on a Google Sheet, while </span><strong>allowing users to submit corrections</strong><span style="font-weight: 400;">, which are then automatically propagated back to the original sheet. These corrections can take the form of altering data or adding or removing entries. The validity of these changes is guarded by a robust </span><strong>hierarchical moderation system </strong><span style="font-weight: 400;">where certain portions of the directory (specified by arbitrary filtering criteria) can be assigned to require an additional moderator queue. The moderators can in turn </span><strong>delegate</strong><span style="font-weight: 400;"> a portion of their portion to subordinate moderators, allowing for a flexible moderation system that can suit an organization structure or a distributed community. </span></p>

                <br>
                <h1>What's our roadmap?</h1>
                <p>HiveSheet is currently operating as a very basic prototype. In the upcoming weeks and months, we are planning to:</p>
                <ul>
                    <li style="font-weight: 400;"><span style="font-weight: 400;">Creating several directories based on this tool in order to showcase its potential<br /></span></li>
                    <li style="font-weight: 400;"><span style="font-weight: 400;">Complete moderation/approval workflow working (including delegation)</span></li>
                    <li style="font-weight: 400;"><strong>Public launch</strong> (allowing users to register and create their own directories).</li>
                    <li style="font-weight: 400;"><span style="font-weight: 400;">Improving the design/presentation of the directory website to keep it up-to-pair with other directory websites</span></li>
                    <li style="font-weight: 400;"><span style="font-weight: 400;">More advanced location-aware geographical filtering, including </span><span style="font-weight: 400;">geographically-scoped moderation</span></li>
                    <li style="font-weight: 400;"><span style="font-weight: 400;">Back-end architectural/security improvements</span></li>
                    <li style="font-weight: 400;"><span style="font-weight: 400;">Front-end performance improvements</span></li>
                </ul>
                <p><span style="font-weight: 400;">And more. </span></p>
                <p><span style="font-weight: 400;">See the project <a href="https://github.com/WhyNott/HiveSheet">on GitHub</a>.</span></p>
                <br>
                <h1>Try it out</h1>
                <p><span style="font-weight: 400;">Add your name to the list using the button below, and see the Google Sheet update <a href="https://docs.google.com/spreadsheets/d/1PBH7NTBrUxJicFUnLc0ZaAWUETowX-M4vGKMD3fB8ew/edit?gid=0#gid=0">in real time</a>.<br /></span></p>
                <button id="addRowBtn" class="add-row-btn" style="text-align: center;display: flex;padding: 1em;margin: auto;">Register interest</button>
                <div>
                    Currently interested parties:
                </div>
            </div>
        </div>
        


        
        <div id="loading">Loading directory...</div>
        <table id="directoryTable">
            <thead id="tableHeader"></thead>
            <tbody id="tableBody"></tbody>
        </table>
    </div>

    <!-- Correction Modal -->
    <div id="correctionModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Suggest Correction</h2>
            <p>Current value: <strong id="currentValue"></strong></p>
            <label for="newValue">New value:</label>
            <input type="text" id="newValue" />
            <div style="margin-top: 20px;">
                <button id="submitCorrection">Submit Correction</button>
                <button id="cancelCorrection" class="cancel">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Add Row Modal -->
    <div id="addRowModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeAddRow">&times;</span>
            <h2>Add New Row</h2>
            <p>Fill in the values for each column:</p>
            <div id="addRowInputs"></div>
            <div>
                <button id="submitNewRow">Add Row</button>
                <button id="cancelNewRow">Cancel</button>
            </div>
        </div>
    </div>


    <!-- Dependencies -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/js/selectize.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.8.0/sql-wasm.js"></script>
    
    <!-- Application Scripts -->
    <script src="/static/js/forms_control_generator.js"></script>
    <script src="/static/js/home.js"></script>
    <script>
        // Pass template variables to global scope
        window.homeConfig = {
            csrfToken: '{{.CSRFToken}}',
            isAuthenticated: {{.IsAuthenticated}},
            directoryId: '{{.Directory.ID}}'
        };
    </script>
</body>
</html>